/* Cosmo Casa – Editor de Habitat (extraído de Habitat.html) */
:root{
  --bg:#0f0f0f; --panel:#151515; --panel2:#101010;
  --grid:#1a1a1a; --grid2:#141414; --stroke:#222;
  --lime:#98ff3b; --lime2:#64e61b; --txt:#eef1f3; --muted:#a2aab0;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--txt);font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
.app{height:100vh;display:grid;gap:10px;padding:10px;grid-template-columns:260px 1fr 300px}

/* painéis */
.panel{background:var(--panel);border:1px solid #1e1e1e;border-radius:6px;overflow:auto}
.logo{display:flex;align-items:center;gap:.6rem;padding:14px 14px;border-bottom:1px solid #1e1e1e}
.brand{font-weight:700;letter-spacing:.3px}
.brand-subtitle{font-size:.78rem;color:#9aa3a7}
.section{padding:14px;border-top:1px solid #1e1e1e}
.section h4{margin:0 0 10px;font-size:.86rem;color:var(--muted);font-weight:800;text-transform:uppercase;letter-spacing:.06em}

/* paleta esquerda */
.palette{display:grid;gap:10px;grid-template-columns:repeat(4,1fr)}
.chip{background:var(--panel2);border:1px solid var(--stroke);border-radius:8px;height:58px;display:flex;align-items:center;justify-content:center;cursor:grab;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none}
.chip span{position:absolute;bottom:6px;left:6px;font-size:.68rem;color:#9aa3a7}
.conn-rect{width:44px;height:10px;border:3px solid var(--lime);border-radius:4px; background: var(--lime);}
.conn-bar{width:10px;height:44px;background:var(--lime);border-radius:3px}
.conn-bar.rot-45{transform:rotate(45deg)}
.conn-bar.rot-135{transform:rotate(135deg)}
.formats{grid-template-columns:repeat(3,1fr)}
.hex,.pent{width:52px;height:52px}
.hex svg,.pent svg{width:100%;height:100%}
.student{margin-top:8px;color:var(--lime);font-size:.82rem}
.student-ip{color:#6adf34}

/* tabuleiro central com grade */
.board-wrap{background:var(--panel);border:1px solid #1e1e1e;border-radius:6px;overflow:hidden;position:relative}
.board{
  position:absolute;inset:0;cursor:crosshair;
  background:
    repeating-linear-gradient(0deg, var(--grid2) 0 1px, transparent 1px 20px),
    repeating-linear-gradient(90deg,var(--grid2) 0 1px, transparent 1px 20px),
    repeating-linear-gradient(0deg, var(--grid) 0 1px, transparent 1px 100px),
    repeating-linear-gradient(90deg,var(--grid) 0 1px, transparent 1px 100px),
    #0d0d0d;
}

/* peça no tabuleiro */
.piece{position:absolute;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center;filter:drop-shadow(0 2px 0 rgba(0,0,0,.35))}
.piece.select{outline:2px solid var(--lime2);outline-offset:2px;border-radius:10px}
.icon{position:absolute;width:38px;height:38px;object-fit:contain;pointer-events:none}

/* painel da direita */
.mod-list{display:flex;flex-direction:column;gap:6px;padding:8px 8px 14px}
.mod{background:#0f0f0f;border:1px solid #202020;color:#cfd6dc;padding:8px 10px;border-radius:6px;cursor:pointer;text-align:left;display:flex;align-items:center;gap:8px}
.mod:hover{border-color:#2b2b2b;background:#121212}
.sw{width:14px;height:14px;border-radius:3px;background:var(--lime);opacity:.85}
.hint{margin:8px 14px 14px;color:#9aa3a7;font-size:.86rem;line-height:1.35}
.hint.tight{margin-top:8px}
.badge{margin-left:auto;background:#0f0f0f;border:1px solid #2b2b2b;color:#9aa3a7;padding:2px 6px;border-radius:10px;font-size:.72rem}
.badge.warn{color:#ffc107;border-color:#ffc107}
.badge.zero{color:#ef5350;border-color:#ef5350}
.board-tools{position:absolute;top:10px;right:10px;z-index:5;display:flex;gap:8px}
.tool-btn{background:#0f0f0f;border:1px solid #202020;color:#cfd6dc;padding:6px 10px;border-radius:6px;cursor:pointer}
.tool-btn:hover{border-color:#2b2b2b;background:#121212}
.botao{background:#0f0f0f;border:1px solid #202020;color:#cfd6dc;padding:6px 10px;border-radius:6px;cursor:pointer;text-decoration:none;display:inline-block}
.botao:hover{border-color:#2b2b2b;background:#121212}

/* barra fixa inferior/esquerda */
.fixed-actions{position:fixed;bottom:10px;left:10px;z-index:10;display:flex;gap:8px}
.form-no-margin{margin:0}

@media (max-width:1100px){.app{grid-template-columns:220px 1fr 280px}.icon{width:32px;height:32px}}
@media (max-width:900px){.app{grid-template-columns:1fr;grid-template-rows:auto 60vh auto}}
@media (max-width:640px){.fixed-actions{left:8px;right:8px;justify-content:space-between}}